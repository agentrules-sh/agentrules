---
title: Preset Configuration
description: Config fields, metadata files, versioning, and more.
---

## Config Fields

The `agentrules.json` file created by `init` supports these fields:

| Field | Required | Description |
|-------|----------|-------------|
| `name` | Yes | URL-safe identifier (lowercase, hyphens only) |
| `title` | Yes | Display name shown in the registry |
| `description` | Yes | Short description (max 500 characters) |
| `license` | Yes | SPDX license identifier (e.g., `MIT`, `Apache-2.0`) |
| `platforms` | Yes | Array of target platforms: `opencode`, `claude`, `cursor`, `codex` |
| `version` | No | Major version (default: 1) |
| `tags` | Yes | 1-10 tags for discoverability (lowercase with hyphens) |
| `features` | No | Up to 10 key features to highlight |
| `ignore` | No | Glob patterns to exclude from bundle |
| `agentrulesDir` | No | Directory for metadata files (default: `.agentrules`) |

Example:

```json title="agentrules.json"
{
  "$schema": "https://agentrules.directory/schema/agentrules.json",
  "name": "my-preset",
  "title": "My Awesome Preset",
  "description": "A helpful preset for TypeScript projects",
  "license": "MIT",
  "platforms": ["opencode"],
  "tags": ["typescript", "testing", "tdd"],
  "features": [
    "Code review agent",
    "Test generation commands",
    "PR description generator"
  ]
}
```

### Multi-Platform Presets

If your preset works for multiple platforms, list them all:

```json title="agentrules.json"
{
  "$schema": "https://agentrules.directory/schema/agentrules.json",
  "name": "my-preset",
  "title": "My Awesome Preset",
  "description": "A helpful preset",
  "license": "MIT",
  "platforms": ["opencode", "claude"],
  "tags": ["typescript", "react"]
}
```

You can also specify custom paths for each platform:

```json title="agentrules.json"
{
  "platforms": [
    "opencode",
    { "platform": "claude", "path": ".claude-config" }
  ]
}
```

## Metadata Files

Add a `.agentrules/` subfolder for registry metadata:

```
.opencode/
├── agentrules.json
├── AGENTS.md
└── .agentrules/
    ├── README.md      <- Displayed on your preset's registry page
    ├── LICENSE.md     <- Full license text
    └── INSTALL.txt    <- Message shown after install
```

These files are **not** copied when users install — they're only for the registry.

### Using Root for Metadata

If your repo is dedicated to the preset (not a mixed project), you can put metadata at the root so GitHub displays your README:

```json title="agentrules.json"
{
  "name": "my-preset",
  "title": "My Preset",
  "description": "A helpful preset",
  "license": "MIT",
  "platforms": ["opencode"],
  "tags": ["typescript"],
  "agentrulesDir": "."
}
```

```
my-preset-repo/
├── agentrules.json
├── README.md          <- GitHub shows this, also used by registry
├── LICENSE.md         <- GitHub recognizes this
├── INSTALL.txt        <- Shown after install
└── .opencode/
    └── AGENTS.md
```

The default `.agentrules/` is better for repos where you already have a project README.

## Ignoring Files

Some files are automatically excluded:

- `node_modules/`, `.git/`, `.DS_Store`
- Lock files (`package-lock.json`, `bun.lockb`, etc.)
- `agentrules.json` itself
- `.agentrules/` metadata folder

Add custom exclusions with the `ignore` field:

```json
{
  "ignore": ["*.log", "test-fixtures/", "*.tmp"]
}
```

## Versioning

Presets use `MAJOR.MINOR` versioning:

- **You control the major version** — bump when you make breaking changes
- **The registry auto-increments minor** — each publish gets the next minor

```bash
# Publish to major version 1 (default)
npx @agentrules/cli publish .opencode

# Publish to major version 2 (breaking changes)
npx @agentrules/cli publish .opencode --version 2
```

Users can install specific versions:

```bash
npx @agentrules/cli add my-preset@1.0 -p opencode  # Specific version
npx @agentrules/cli add my-preset -p opencode      # Latest overall
```

## Unpublishing

Remove a specific version from the registry:

```bash
npx @agentrules/cli unpublish my-preset@1.0
```

<Callout type="warn">
Unpublished versions cannot be republished with the same version number.
</Callout>

## Authentication

| Command | Description |
|---------|-------------|
| `npx @agentrules/cli login` | Authenticate with the registry |
| `npx @agentrules/cli logout` | Log out and clear credentials |
| `npx @agentrules/cli whoami` | Show current user |
