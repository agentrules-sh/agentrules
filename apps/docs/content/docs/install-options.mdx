---
title: Options
description: Version pinning, global installs, conflicts, and more.
---

## Platform Flag

Use the `--platform` (or `-p`) flag to specify the target platform:

```bash
npx @agentrules/cli add my-rule --platform opencode
npx @agentrules/cli add my-rule -p opencode
```

## Installing a Specific Version

Rules use `MAJOR.MINOR` versioning. By default, the latest version is installed.

```bash
# With --version flag
npx @agentrules/cli add my-rule -p opencode --version 1.0

# Or use @ syntax
npx @agentrules/cli add my-rule@1.0 -p opencode
```

## Global vs Project Install

By default, rules install to your current project directory.

```bash
# Project install (default) - writes to .opencode/
npx @agentrules/cli add my-rule -p opencode

# Global install - writes to ~/.config/opencode
npx @agentrules/cli add my-rule -p opencode --global
```

| Install Type | OpenCode | Claude | Cursor | Codex |
|--------------|----------|--------|--------|-------|
| Project | `.opencode/` | `.claude/` | `.cursor/` | `.codex/` |
| Global | `~/.config/opencode` | `~/.claude` | `~/.cursor` | `~/.codex` |

## Preview Before Installing

See what files would be installed without writing anything:

```bash
npx @agentrules/cli add my-rule -p opencode --dry-run
```

## Handling Conflicts

When a file already exists:

```bash
# Overwrite (backs up existing files to .bak)
npx @agentrules/cli add my-rule -p opencode --force

# Overwrite without backups
npx @agentrules/cli add my-rule -p opencode --force --no-backup

# Skip conflicting files, only add new ones
npx @agentrules/cli add my-rule -p opencode --skip-conflicts
```

Without these flags, the CLI shows you what conflicts exist and lets you decide.

## Custom Directory

Install to a specific directory instead of the default:

```bash
npx @agentrules/cli add my-rule -p opencode --dir ./custom/path
```

## Using Custom Registries

By default, rules come from `agentrules.directory`. You can add other registries:

```bash
# Add a registry
npx @agentrules/cli registry add company https://registry.company.com

# Install from it
npx @agentrules/cli add my-rule -p opencode --registry company

# Set as default
npx @agentrules/cli registry use company
```

## All Options

| Option | Description |
|--------|-------------|
| `-p, --platform` | Target platform: `opencode`, `claude`, `cursor`, `codex` |
| `-V, --version` | Install a specific version |
| `-g, --global` | Install to global config directory |
| `--dir` | Install to a custom directory |
| `-r, --registry` | Use a specific registry |
| `-f, --force` | Overwrite existing files (backs up to `.bak`) |
| `-y, --yes` | Alias for `--force` |
| `--no-backup` | Don't backup when using `--force` |
| `--dry-run` | Preview without writing |
| `--skip-conflicts` | Skip files that already exist |
