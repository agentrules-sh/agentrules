---
title: Rule Configuration
description: Config fields, metadata files, versioning, and more.
---

## Config Fields

The `agentrules.json` file created by `init` supports these fields:

| Field | Required | Description |
|-------|----------|-------------|
| `name` | Yes | URL-safe identifier (lowercase, hyphens only) |
| `title` | Yes | Display name shown in the registry |
| `description` | No | Short description (max 500 characters; recommended) |
| `license` | Yes | SPDX license identifier (e.g., `MIT`, `Apache-2.0`) |
| `platforms` | Yes | Array of target platforms: `opencode`, `claude`, `cursor`, `codex` |
| `type` | No | Rule type: `instruction`, `rule`, `command`, `skill`, `agent`, `tool` |
| `version` | No | Major version (default: 1) |
| `tags` | No | 0-10 tags for discoverability (lowercase with hyphens; recommended) |
| `features` | No | Up to 5 key features to highlight |
| `ignore` | No | Glob patterns to exclude from bundle |

Example:

```json title="agentrules.json"
{
  "$schema": "https://agentrules.directory/schema/agentrules.json",
  "name": "my-rule",
  "title": "My Awesome Rule",
  "description": "A helpful rule for TypeScript projects",
  "license": "MIT",
  "platforms": ["opencode"],
  "tags": ["typescript", "testing", "tdd"],
  "features": [
    "Code review agent",
    "Test generation commands",
    "PR description generator"
  ]
}
```

### Multi-Platform Rules

If your rule works for multiple platforms, list them all:

```json title="agentrules.json"
{
  "$schema": "https://agentrules.directory/schema/agentrules.json",
  "name": "my-rule",
  "title": "My Awesome Rule",
  "description": "A helpful rule",
  "license": "MIT",
  "platforms": [
    { "platform": "opencode", "path": "opencode" },
    { "platform": "claude", "path": "claude" }
  ],
  "tags": ["typescript", "react"]
}
```

You can also specify custom paths for each platform:

```json title="agentrules.json"
{
  "platforms": [
    { "platform": "opencode", "path": "opencode" },
    { "platform": "claude", "path": ".claude-config" }
  ]
}
```

## Metadata Files

Metadata lives next to `agentrules.json` (rule root):

```
my-rule/
├── agentrules.json
├── README.md        <- Displayed on your rule's registry page (optional)
├── LICENSE.md       <- Full license text (optional)
└── INSTALL.txt      <- Message shown after install (optional)
```

These files are **not** installed into the user's project. They are published as metadata fields (`readmeContent`, `licenseContent`, `installMessage`).

`README.md`, `LICENSE.md`, and `INSTALL.txt` are reserved metadata filenames at the rule root and are excluded from the bundled files list.

## Ignoring Files

Some files are automatically excluded:

- `node_modules/`, `.git/`, `.DS_Store`
- Lock files (`package-lock.json`, `bun.lockb`, etc.)
- `agentrules.json` itself
- `README.md`, `LICENSE.md`, `INSTALL.txt` (metadata files; not bundled)

Add custom exclusions with the `ignore` field:

```json
{
  "ignore": ["*.log", "test-fixtures/", "*.tmp"]
}
```

## Versioning

Rules use `MAJOR.MINOR` versioning:

- **You control the major version** — bump when you make breaking changes
- **The registry auto-increments minor** — each publish gets the next minor

```bash
# Publish to major version 1 (default)
npx @agentrules/cli publish

# Publish to major version 2 (breaking changes)
npx @agentrules/cli publish --version 2
```

Users can install specific versions:

```bash
npx @agentrules/cli add my-rule@1.0 -p opencode  # Specific version
npx @agentrules/cli add my-rule -p opencode      # Latest overall
```

## Unpublishing

Remove a specific version from the registry:

```bash
npx @agentrules/cli unpublish my-rule@1.0
```

<Callout type="warn">
Unpublished versions cannot be republished with the same version number.
</Callout>

## Authentication

| Command | Description |
|---------|-------------|
| `npx @agentrules/cli login` | Authenticate with the registry |
| `npx @agentrules/cli logout` | Log out and clear credentials |
| `npx @agentrules/cli whoami` | Show current user |
